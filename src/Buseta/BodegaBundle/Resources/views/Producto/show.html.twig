{% extends "BusetaBodegaBundle::layout.html.twig" %}

{% block nombre_menu_superior %}

{% endblock %}

{% block title %}
    Datos del Producto
{% endblock %}

{% block titulo_encabezado %}
    Datos del Producto: "{{ entity.nombre }}"
{% endblock %}

{% block area_trabajo %}

    <table class="table table-striped" style="font-size: 16px;">
    <tbody>

    <tr>
        <th>Nombre</th>
        <td>{{ entity.nombre }}</td>
    </tr>
    <tr>
        <th>Código</th>
        <td>{{ entity.codigo }}</td>
    </tr>
    <tr>
        <th>Unidad de medida (U/M)</th>
        <td>{{ entity.uom }}</td>
    </tr>
    <tr>
        <th>Categoría de Producto</th>
        <td>{{ entity.categoriaProducto }}</td>
    </tr>
    <tr>
        <th>Bodega</th>
        <td>{{ entity.bodega }}</td>
    </tr>
    <tr>
        <th>Mínimo en bodega</th>
        <td>{{ entity.minimobodega }}</td>
    </tr>
    <tr>
        <th>Máximo en bodega</th>
        <td>{{ entity.maximobodega }}</td>
    </tr>
    <tr>
        <th>Grupo</th>
        <td>{{ entity.grupos }}</td>
    </tr>
    <tr>
        <th>Subgrupo</th>
        <td>{{ entity.subgrupos }}</td>
    </tr>
    <tr>
        <th>Condición</th>
        <td>{{ entity.condicion }}</td>
    </tr>

    <tr>
        <th>Precios existentes</th>
        <td>
            <table class="table table-striped" style="font-size: 16px;">
                <th>Costo</th>
                <th>Precio</th>
                <th>Fecha Inicio</th>
                <th>Fecha Fin</th>
                <th>Activo</th>

                {% for precio in entity.precioproducto %}
                <tbody>
                <tr>
                    <td>{{ precio.costo }}</td>
                    <td>{{ precio.precio }}</td>
                    <td>{{ precio.fechaInicio | date('d/m/Y') }}</td>
                    <td>{{ precio.fechaFin | date('d/m/Y')}}</td>
                    <td>
                        {% if precio.activo %}
                                Sí
                            {% else %}
                                No
                        {% endif %}
                    </td>
                </tr>
                {% else %}
                    <tr>
                        <td colspan="6">
                            <span class="label label-danger">No existen líneas de pedidos de compras disponibles</span>
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </td>
    </tr>

    <tr>
        <th>Activo</th>
        <td>
            {% if entity.activo == 1 %}
                Sí
            {% else %}
                No
            {% endif %}
        </td>
    </tr>

    </tbody>
    </table>

    <div class="form-actions">
        {{ form_start(delete_form) }}
        <a class="btn btn-primary" href="{{ path('producto_edit', { 'id': entity.id }) }}"> Editar</a>
        <a class="btn btn-primary" href="{{ path('producto') }}"> Listado</a>
        <button type="submit" class="btn btn-primary">Eliminar</button>
        <a class="btn btn-primary" href="{{ path('producto_bitacora', { 'id': entity.id }) }}"> Bitácora</a>
        {{ form_end(delete_form) }}
    </div>

    <a href="#delete" data-href="{{ path('producto_delete', {'id': entity.id}) }}" class="btn btn-danger">
        <span class="glyphicon glyphicon-trash"></span> {{ 'action.delete' | trans }}</a>

    {% include 'BusetaBodegaBundle:Producto:delete_modal.html.twig' with { 'form' : delete_form, 'entity' : entity } %}

{% endblock %}

{% block contenido %}

{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script type="text/javascript">
        var productodeleteevent = new DeleteEvent('{{ path('producto') }}', 'div#producto_records_list', false);
        productodeleteevent.start_events();
    </script>
{% endblock %}

